\documentclass[10pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{times}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{booktabs}
\usepackage{amssymb}
% Optional: set graphics paths; add your figures under docs/figures/
\graphicspath{{../docs/figures/}{../../docs/figures/}{../docs/}{../../docs/}}

\title{User Knowledge Graphs for Personal Cognitive Systems}
\author{Gustave Vernay \\ Avisia / Aivancity / \'{E}cole Polytechnique (candidate PhD)}
\date{}

\begin{document}
\maketitle

\begin{abstract}
We propose a dynamic user knowledge graph (UKG) as a core representation for personal cognitive systems. Unlike vector-only retrieval, UKGs encode entities, temporal relations, and provenance, supporting robust retrieval and long-term consolidation.
\end{abstract}

\section{Introduction}
% TODO: Write a motivating paragraph framing LLM agents and the lack of structured memory.
\subsection{Context}
Large language models (LLMs) and autonomous agents lack persistent, structured memory to support long-term coherence.

\subsection{Problem}
Vector-only retrieval (RAG) suffers from hallucinations and missing provenance, limiting auditability and reliability.

\subsection{Contributions}
We make the following contributions:
\begin{itemize}
	\item A dynamic User Knowledge Graph (UKG) schema for personal cognitive systems.
	\item Incremental graph update algorithms with event-sourcing/CRDT-inspired merges.
	\item An evaluation on synthetic personal data measuring coherence, coverage, and groundedness.
\end{itemize}

% Figure: Comparative RAG vs UKG (placeholder)
% \begin{figure}[t]
%   \centering
%   \includegraphics[width=0.9\linewidth]{pa_rag_vs_ukg.pdf} % expected at docs/figures/pa_rag_vs_ukg.pdf
%   \caption{Comparison of vector-only RAG vs. UKG with provenance and temporal relations.}
%   \label{fig:rag-vs-ukg}
% \end{figure}

\section{Related Work}
\subsection{Knowledge Graphs}
Knowledge graphs such as ConceptNet and Wikidata provide structured representations of entities and relations.

\subsection{Hybrid RAG + KG}
Hybrid retrieval approaches combine vector search with symbolic or graph-based retrieval; we position UKG within this landscape.

\subsection{Cognitive Architectures}
Cognitive systems like ACT-R and SOAR inspire mechanisms for memory retrieval and consolidation relevant to personal cognition.

% Table: Comparison existing vs UKG (compile-safe input)
\begin{table}[t]
	\centering
	\caption{Comparison of existing systems vs UKG across dynamism, traceability, and LLM integration.}
	\label{tab:related-ukg}
	\input{../docs/tables/pa_related_work.tex}
\end{table}

\section{Method}
\subsection{Schema Design}
\label{subsec:schema}
Entities: \{\texttt{User}, \texttt{Goal}, \texttt{Project}, \texttt{Event}, \texttt{Document}\}.\\
Relations: \{\texttt{has\_goal}, \texttt{works\_on}, \texttt{derived\_from}, \texttt{supports}\}.

% TODO: Specify node/edge attributes (timestamps, provenance, confidence) and examples.

\subsection{Incremental Updates}
\label{subsec:updates}
We adopt event-sourcing style logs and CRDT-like merges to integrate new facts while preserving provenance.

% TODO: Define conflict resolution rules, idempotency, and causal ordering assumptions.

\subsection{Consolidation Cycles}
\label{subsec:consolidation}
Periodic consolidation promotes stable facts to long-term memory and resolves contradictions using provenance and recency.

% Figure: ETL pipeline to triplets to graph update (placeholder)
% \begin{figure}[t]
%   \centering
%   \includegraphics[width=0.95\linewidth]{pa_pipeline_kg_update.pdf} % expected at docs/figures/pa_pipeline_kg_update.pdf
%   \caption{Pipeline: ETL from personal corpus, triple extraction, and incremental UKG updates.}
%   \label{fig:etl}
% \end{figure}

\section{Experiments}
\subsection{Dataset}
Synthetic personal corpus including notes, agendas, and tasks; see Table~\ref{tab:dataset-pa}.

\subsection{Baselines}
Vector-only retrieval (RAG) and a static KG baseline without incremental updates.

\subsection{Tasks}
We evaluate QA, retrieval, and contradiction detection.

% Table: Dataset statistics
\begin{table}[t]
	\centering
	\caption{Dataset statistics for PA: number of documents, goals, projects, and tokens.}
	\label{tab:dataset-pa}
	\input{../docs/tables/pa_dataset_stats.tex}
\end{table}

\section{Results}
\subsection{Metrics}
We report: (1) Coherence (contradictions per 100 facts), (2) Coverage (\% concepts represented), and (3) Groundedness (\% answers citing the graph).

\subsection{Quantitative Results}
% Figure: Groundedness curve RAG vs UKG (placeholder)
% \begin{figure}[t]
%   \centering
%   \includegraphics[width=0.85\linewidth]{pa_groundedness_curve.pdf} % expected at docs/figures/pa_groundedness_curve.pdf
%   \caption{Groundedness vs. method (RAG vs UKG).}
%   \label{fig:groundedness}
% \end{figure}

% Figure: Heatmap contradictions before/after consolidation (placeholder)
% \begin{figure}[t]
%   \centering
%   \includegraphics[width=0.85\linewidth]{pa_contradictions_heatmap.pdf} % expected at docs/figures/pa_contradictions_heatmap.pdf
%   \caption{Contradiction density before and after consolidation cycles.}
%   \label{fig:contradictions}
% \end{figure}

% TODO: Insert numeric results and statistical tests.

\section{Discussion}
\subsection{Advantages}
Traceability and modularity through explicit entities, relations, and provenance.

\subsection{Limitations}
Imperfect extraction quality and scalability concerns for large personal corpora.

\subsection{Connections to Human Cognition}
Relate to models of human memory and consolidation.

\section{Conclusion and Future Work}
We summarize UKG contributions and outline future directions: probabilistic UKGs and tighter integration with fine-tuned personalized LLMs.

\bibliographystyle{plain}
\bibliography{refs}
\end{document}